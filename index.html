<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì›¨ë”©ë©”ì´íŠ¸ - AI ì›¨ë”© í”Œë˜ë„ˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700;900&display=swap');
        body { font-family: 'Noto Sans KR', sans-serif; }
    </style>
</head>
<body class="bg-gradient-to-br from-pink-50 via-white to-purple-50">
    
    <header class="bg-white shadow-sm">
        <div class="max-w-7xl mx-auto px-4 py-4 flex items-center justify-between">
            <div class="flex items-center gap-2">
                <svg class="text-pink-500 w-7 h-7" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                </svg>
                <span class="text-2xl font-bold text-gray-800">ì›¨ë”©ë©”ì´íŠ¸</span>
            </div>
            <button class="px-4 py-2 bg-pink-500 text-white rounded-lg text-sm hover:bg-pink-600">ë¡œê·¸ì¸</button>
        </div>
    </header>

    <div id="app"></div>

    <script>
        const venues = [
            {id: 1, name: "ê·¸ëœë“œ í•˜ì–íŠ¸ ì„œìš¸", type: "í˜¸í…”", location: "ìš©ì‚°êµ¬", atmosphere: "ë°ìŒ", subway: "5ë¶„", parking: "500ëŒ€", capacity: "300ëª…", mealPrice: "8ë§Œì›", rentalFee: "200ë§Œì›", foodType: "ì½”ìŠ¤", rating: 4.8, reviews: 234, phone: "02-797-1234", website: "https://www.google.com", instagram: "@grandhyattseoul", image: "ğŸ¨"},
            {id: 2, name: "ì—˜íƒ€ì›Œ ê·¸ë ˆì´ìŠ¤", type: "ì›¨ë”©í™€", location: "ê°•ë‚¨êµ¬", atmosphere: "ì–´ë‘ì›€", subway: "3ë¶„", parking: "300ëŒ€", capacity: "250ëª…", mealPrice: "6ë§Œì›", rentalFee: "150ë§Œì›", foodType: "ë·”í˜", rating: 4.6, reviews: 189, phone: "02-3461-5000", website: "https://www.google.com", instagram: "@eltowergrace", image: "ğŸ’’"},
            {id: 3, name: "ë”ì»¨ë²¤ì…˜ ì—¬ì˜ë„", type: "ì›¨ë”©í™€", location: "ì˜ë“±í¬êµ¬", atmosphere: "ë°ìŒ", subway: "2ë¶„", parking: "400ëŒ€", capacity: "200ëª…", mealPrice: "5ë§Œì›", rentalFee: "120ë§Œì›", foodType: "ë·”í˜", rating: 4.5, reviews: 156, phone: "02-761-7000", website: "https://www.google.com", instagram: "@theconvention", image: "ğŸ’’"},
            {id: 4, name: "ë…¸ë¸”ë°œë Œí‹° ëŒ€ì¹˜", type: "ì›¨ë”©í™€", location: "ê°•ë‚¨êµ¬", atmosphere: "ë°ìŒ", subway: "7ë¶„", parking: "200ëŒ€", capacity: "180ëª…", mealPrice: "7ë§Œì›", rentalFee: "180ë§Œì›", foodType: "ì½”ìŠ¤", rating: 4.7, reviews: 142, phone: "02-566-0001", website: "https://www.google.com", instagram: "@noblevalenti", image: "ğŸ’’"},
            {id: 5, name: "ì›Œì»¤í í˜¸í…”", type: "í˜¸í…”", location: "ê´‘ì§„êµ¬", atmosphere: "ë°ìŒ", subway: "15ë¶„", parking: "600ëŒ€", capacity: "350ëª…", mealPrice: "9ë§Œì›", rentalFee: "250ë§Œì›", foodType: "ì½”ìŠ¤", rating: 4.9, reviews: 278, phone: "02-450-4500", website: "https://www.google.com", instagram: "@walkerhill", image: "ğŸ¨"}
        ];

        let state = {
            currentStep: 'home',
            formStep: 1,
            formData: {
                date: '', guests: '', budget: '', mealBudget: '',
                venueType: '', atmosphere: '', location: '', foodType: '',
                priorities: []
            },
            recommendations: []
        };

        function calculateMatch(venue) {
            let scores = {budget: 0, venueType: 0, atmosphere: 0, foodType: 0, accessibility: 0, rating: 0};
            let maxScores = {budget: 30, venueType: 20, atmosphere: 15, foodType: 15, accessibility: 10, rating: 10};

            if (state.formData.budget && state.formData.mealBudget && state.formData.guests) {
                const totalBudget = parseInt(state.formData.budget);
                const venueMealPrice = parseInt(venue.mealPrice.replace('ë§Œì›', ''));
                const venueRentalFee = parseInt(venue.rentalFee.replace('ë§Œì›', ''));
                const estimatedTotal = (venueMealPrice * parseInt(state.formData.guests)) + venueRentalFee;
                const budgetDiff = Math.abs(totalBudget - estimatedTotal) / totalBudget;
                if (budgetDiff < 0.1) scores.budget = 30;
                else if (budgetDiff < 0.2) scores.budget = 20;
                else if (budgetDiff < 0.3) scores.budget = 10;
            }

            if (state.formData.venueType && venue.type === state.formData.venueType) scores.venueType = 20;
            if (state.formData.atmosphere && venue.atmosphere === state.formData.atmosphere) scores.atmosphere = 15;
            if (state.formData.foodType && venue.foodType === state.formData.foodType) scores.foodType = 15;

            const subwayMin = parseInt(venue.subway);
            if (subwayMin <= 5) scores.accessibility = 10;
            else if (subwayMin <= 10) scores.accessibility = 5;

            scores.rating = (venue.rating / 5) * 10;

            if (state.formData.priorities.length > 0) {
                const weights = {1: 2.0, 2: 1.5, 3: 1.2};
                state.formData.priorities.forEach((priority, index) => {
                    const weight = weights[index + 1];
                    const map = {
                        budget: 'budget',
                        location: 'accessibility',
                        atmosphere: 'atmosphere',
                        food: 'foodType',
                        rating: 'rating',
                        type: 'venueType'
                    };
                    const key = map[priority];
                    if (key) {
                        scores[key] *= weight;
                        maxScores[key] *= weight;
                    }
                });
            }

            const totalScore = Object.values(scores).reduce((a, b) => a + b, 0);
            const totalMax = Object.values(maxScores).reduce((a, b) => a + b, 0);
            return totalMax > 0 ? Math.round((totalScore / totalMax) * 100) : 0;
        }

        function nextStep() {
            if (state.formStep === 1) {
                if (!state.formData.date || !state.formData.guests || !state.formData.budget || !state.formData.mealBudget) {
                    alert('ëª¨ë“  ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!');
                    return;
                }
            } else if (state.formStep === 2) {
                if (!state.formData.venueType || !state.formData.atmosphere || !state.formData.location || !state.formData.foodType) {
                    alert('ëª¨ë“  í•­ëª©ì„ ì„ íƒí•´ì£¼ì„¸ìš”!');
                    return;
                }
            } else if (state.formStep === 3) {
                if (state.formData.priorities.length === 0) {
                    alert('ìµœì†Œ 1ê°œ ì´ìƒì˜ ìš°ì„ ìˆœìœ„ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”!');
                    return;
                }
                const scored = venues.map(v => ({...v, match: calculateMatch(v)}));
                state.recommendations = scored.sort((a, b) => b.match - a.match).slice(0, 5);
                state.currentStep = 'results';
                render();
                return;
            }
            state.formStep++;
            render();
        }

        function prevStep() {
            state.formStep--;
            render();
        }

        function goHome() {
            state.currentStep = 'home';
            render();
        }

        function startForm() {
            state.currentStep = 'form';
            state.formStep = 1;
            render();
        }

        function backToForm() {
            state.currentStep = 'form';
            state.formStep = 3;
            render();
        }

        function togglePriority(priority) {
            const idx = state.formData.priorities.indexOf(priority);
            if (idx > -1) {
                state.formData.priorities.splice(idx, 1);
            } else {
                if (state.formData.priorities.length < 3) {
                    state.formData.priorities.push(priority);
                } else {
                    alert('ìµœëŒ€ 3ê°œê¹Œì§€ ì„ íƒ ê°€ëŠ¥í•©ë‹ˆë‹¤!');
                    return;
                }
            }
            render();
        }

        function getPriorityRank(p) {
            const idx = state.formData.priorities.indexOf(p);
            return idx >= 0 ? idx + 1 : null;
        }

        function updateField(field, value) {
            state.formData[field] = value;
        }

        function selectOption(field, value) {
            state.formData[field] = value;
            render();
        }

        function render() {
            const app = document.getElementById('app');
            
            if (state.currentStep === 'home') {
                app.innerHTML = `
                    <div class="max-w-7xl mx-auto px-4 py-16 text-center">
                        <div class="inline-flex items-center gap-2 px-4 py-2 bg-pink-100 text-pink-600 rounded-full text-sm mb-6">
                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"/></svg>
                            AIê°€ ì°¾ì•„ì£¼ëŠ” ë‚˜ë§Œì˜ ì™„ë²½í•œ ê²°í˜¼ì‹
                        </div>
                        <h1 class="text-5xl font-bold text-gray-900 mb-4">ê²°í˜¼ ì¤€ë¹„,<br/>ì´ì œ ì‰½ê³  ë¹ ë¥´ê²Œ</h1>
                        <p class="text-xl text-gray-600 mb-8">3ë‹¨ê³„ë§Œ ê±°ì¹˜ë©´ ì™„ì„±ë˜ëŠ” ë§ì¶¤í˜• ì›¨ë”© í”Œëœ<br/>AIê°€ ì—¬ëŸ¬ë¶„ì˜ ì·¨í–¥ê³¼ ì˜ˆì‚°ì— ë”± ë§ëŠ” ì›¨ë”©í™€ì„ ì¶”ì²œí•´ë“œë¦½ë‹ˆë‹¤</p>
                        <button onclick="startForm()" class="px-8 py-4 bg-pink-500 text-white rounded-xl text-lg font-semibold hover:bg-pink-600 shadow-lg hover:shadow-xl transition-all inline-flex items-center gap-2">
                            ì§€ê¸ˆ ì‹œì‘í•˜ê¸°
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
                        </button>
                        <div class="grid md:grid-cols-3 gap-8 mt-16">
                            <div class="bg-white p-6 rounded-xl shadow-sm">
                                <div class="text-3xl font-bold text-pink-500 mb-2">2,847</div>
                                <div class="text-gray-600">ëˆ„ì  ë§¤ì¹­ ê±´ìˆ˜</div>
                            </div>
                            <div class="bg-white p-6 rounded-xl shadow-sm">
                                <div class="text-3xl font-bold text-pink-500 mb-2">98.5%</div>
                                <div class="text-gray-600">ê³ ê° ë§Œì¡±ë„</div>
                            </div>
                            <div class="bg-white p-6 rounded-xl shadow-sm">
                                <div class="text-3xl font-bold text-pink-500 mb-2">327ë§Œì›</div>
                                <div class="text-gray-600">í‰ê·  ì ˆê° ê¸ˆì•¡</div>
                            </div>
                        </div>
                    </div>
                `;
            } else if (state.currentStep === 'form') {
                if (state.formStep === 1) {
                    app.innerHTML = `
                        <div class="max-w-3xl mx-auto px-4 py-12">
                            <div class="mb-8">
                                <div class="flex items-center justify-between mb-2">
                                    <span class="text-sm font-medium text-pink-600">STEP 1 / 3</span>
                                    <span class="text-sm text-gray-500">ê¸°ë³¸ ì •ë³´</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-pink-500 h-2 rounded-full" style="width: 33%"></div>
                                </div>
                            </div>
                            <div class="text-center mb-8">
                                <h2 class="text-3xl font-bold mb-2">ê¸°ë³¸ ì •ë³´ë¥¼ ì•Œë ¤ì£¼ì„¸ìš”</h2>
                                <p class="text-gray-600">ì˜ˆì‹ ë‚ ì§œì™€ ì˜ˆì‚° ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”</p>
                            </div>
                            <div class="bg-white rounded-2xl shadow-lg p-8 space-y-6">
                                <div>
                                    <label class="text-sm font-medium text-gray-700 mb-2 block">ì˜ˆì‹ í¬ë§ ë‚ ì§œ</label>
                                    <input type="date" value="${state.formData.date}" onchange="updateField('date', this.value)" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500"/>
                                </div>
                                <div>
                                    <label class="text-sm font-medium text-gray-700 mb-2 block">ì˜ˆìƒ í•˜ê° ìˆ˜</label>
                                    <input type="number" value="${state.formData.guests}" onchange="updateField('guests', this.value)" placeholder="ì˜ˆ: 200" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500"/>
                                    <p class="text-xs text-gray-500 mt-1">ì‹ ë‘ì¸¡ + ì‹ ë¶€ì¸¡ í•˜ê°ì„ ëª¨ë‘ í•©ì¹œ ì¸ì›ìˆ˜</p>
                                </div>
                                <div>
                                    <label class="text-sm font-medium text-gray-700 mb-2 block">ì´ ì˜ˆì‚° (ë§Œì›)</label>
                                    <input type="number" value="${state.formData.budget}" onchange="updateField('budget', this.value)" placeholder="ì˜ˆ: 3000" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500"/>
                                    <p class="text-xs text-gray-500 mt-1">ì‹ëŒ€ + ëŒ€ê´€ë£Œ í¬í•¨ ì´ ì˜ˆì‚°</p>
                                </div>
                                <div>
                                    <label class="text-sm font-medium text-gray-700 mb-2 block">1ì¸ë‹¹ ì‹ëŒ€ ì˜ˆì‚° (ë§Œì›)</label>
                                    <input type="number" value="${state.formData.mealBudget}" onchange="updateField('mealBudget', this.value)" placeholder="ì˜ˆ: 6" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500"/>
                                    <p class="text-xs text-gray-500 mt-1">ì¼ë°˜ì ìœ¼ë¡œ 5-9ë§Œì›</p>
                                </div>
                                <div class="flex gap-3 pt-4">
                                    <button onclick="goHome()" class="px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50">ì·¨ì†Œ</button>
                                    <button onclick="nextStep()" class="flex-1 py-3 bg-pink-500 text-white rounded-lg font-semibold hover:bg-pink-600 shadow-md">ë‹¤ìŒ ë‹¨ê³„</button>
                                </div>
                            </div>
                        </div>
                    `;
                } else if (state.formStep === 2) {
                    app.innerHTML = `
                        <div class="max-w-3xl mx-auto px-4 py-12">
                            <div class="mb-8">
                                <div class="flex items-center justify-between mb-2">
                                    <span class="text-sm font-medium text-pink-600">STEP 2 / 3</span>
                                    <span class="text-sm text-gray-500">ì„ í˜¸ ì‚¬í•­</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-pink-500 h-2 rounded-full" style="width: 66%"></div>
                                </div>
                            </div>
                            <div class="text-center mb-8">
                                <h2 class="text-3xl font-bold mb-2">ì„ í˜¸í•˜ëŠ” ìŠ¤íƒ€ì¼ì„ ì•Œë ¤ì£¼ì„¸ìš”</h2>
                                <p class="text-gray-600">ì›¨ë”©í™€ íƒ€ì…ê³¼ ë¶„ìœ„ê¸°ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”</p>
                            </div>
                            <div class="bg-white rounded-2xl shadow-lg p-8 space-y-6">
                                <div>
                                    <label class="text-sm font-medium text-gray-700 mb-3 block">ì›¨ë”©í™€ íƒ€ì…</label>
                                    <div class="grid grid-cols-3 gap-3">
                                        ${['í˜¸í…”', 'ì›¨ë”©í™€', 'ì±„í”Œ'].map(t => `
                                            <button type="button" onclick="selectOption('venueType', '${t}')" class="px-4 py-3 rounded-lg border-2 transition-all ${state.formData.venueType === t ? 'border-pink-500 bg-pink-50 text-pink-600 font-medium' : 'border-gray-200 hover:border-gray-300'}">${t}</button>
                                        `).join('')}
                                    </div>
                                </div>
                                <div>
                                    <label class="text-sm font-medium text-gray-700 mb-3 block">í™€ ë¶„ìœ„ê¸°</label>
                                    <div class="grid grid-cols-2 gap-3">
                                        ${['ë°ìŒ', 'ì–´ë‘ì›€'].map(a => `
                                            <button type="button" onclick="selectOption('atmosphere', '${a}')" class="px-4 py-3 rounded-lg border-2 transition-all ${state.formData.atmosphere === a ? 'border-pink-500 bg-pink-50 text-pink-600 font-medium' : 'border-gray-200 hover:border-gray-300'}">${a}</button>
                                        `).join('')}
                                    </div>
                                </div>
                                <div>
                                    <label class="text-sm font-medium text-gray-700 mb-3 block">í¬ë§ ì§€ì—­</label>
                                    <select onchange="updateField('location', this.value)" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500">
                                        <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                                        ${['ê°•ë‚¨êµ¬', 'ì„œì´ˆêµ¬', 'ì†¡íŒŒêµ¬', 'ì˜ë“±í¬êµ¬', 'ë§ˆí¬êµ¬', 'ìš©ì‚°êµ¬', 'ê´‘ì§„êµ¬'].map(l => `
                                            <option value="${l}" ${state.formData.location === l ? 'selected' : ''}>${l}</option>
                                        `).join('')}
                                    </select>
                                </div>
                                <div>
                                    <label class="text-sm font-medium text-gray-700 mb-3 block">ìŒì‹ ì¢…ë¥˜</label>
                                    <div class="grid grid-cols-2 gap-3">
                                        ${['ë·”í˜', 'ì½”ìŠ¤'].map(f => `
                                            <button type="button" onclick="selectOption('foodType', '${f}')" class="px-4 py-3 rounded-lg border-2 transition-all ${state.formData.foodType === f ? 'border-pink-500 bg-pink-50 text-pink-600 font-medium' : 'border-gray-200 hover:border-gray-300'}">${f}</button>
                                        `).join('')}
                                    </div>
                                </div>
                                <div class="flex gap-3 pt-4">
                                    <button onclick="prevStep()" class="px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50">ì´ì „</button>
                                    <button onclick="nextStep()" class="flex-1 py-3 bg-pink-500 text-white rounded-lg font-semibold hover:bg-pink-600 shadow-md">ë‹¤ìŒ ë‹¨ê³„</button>
                                </div>
                            </div>
                        </div>
                    `;
                } else if (state.formStep === 3) {
                    const priorities = [
                        {key: 'budget', label: 'ğŸ’° ì˜ˆì‚°', desc: 'ì˜ˆì‚° ë‚´ì—ì„œ ìµœê³ ì˜ ê°€ì„±ë¹„'},
                        {key: 'location', label: 'ğŸ“ ìœ„ì¹˜/ì ‘ê·¼ì„±', desc: 'ì§€í•˜ì² ì—­ ê°€ê¹Œìš´ ê³³'},
                        {key: 'atmosphere', label: 'âœ¨ í™€ ë¶„ìœ„ê¸°', desc: 'ì›í•˜ëŠ” ëŠë‚Œì˜ í™€'},
                        {key: 'food', label: 'ğŸ½ï¸ ìŒì‹ í€„ë¦¬í‹°', desc: 'ì‹ì‚¬ ë§Œì¡±ë„ ë†’ì€ ê³³'},
                        {key: 'rating', label: 'â­ í‰ì /í›„ê¸°', desc: 'ì‹¤ì œ ì´ìš©ì ë§Œì¡±ë„'},
                        {key: 'type', label: 'ğŸ¨ ì›¨ë”©í™€ íƒ€ì…', desc: 'í˜¸í…”/ì›¨ë”©í™€/ì±„í”Œ'}
                    ];
                    
                    app.innerHTML = `
                        <div class="max-w-3xl mx-auto px-4 py-12">
                            <div class="mb-8">
                                <div class="flex items-center justify-between mb-2">
                                    <span class="text-sm font-medium text-pink-600">STEP 3 / 3</span>
                                    <span class="text-sm text-gray-500">ìš°ì„ ìˆœìœ„ ì„ íƒ</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-pink-500 h-2 rounded-full" style="width: 100%"></div>
                                </div>
                            </div>
                            <div class="text-center mb-8">
                                <h2 class="text-3xl font-bold mb-2">ê°€ì¥ ì¤‘ìš”í•œ ê²ƒì„ ì„ íƒí•˜ì„¸ìš”</h2>
                                <p class="text-gray-600">ìµœëŒ€ 3ê°œê¹Œì§€ ì„ íƒ ê°€ëŠ¥ (ìˆœì„œëŒ€ë¡œ 1ìˆœìœ„, 2ìˆœìœ„, 3ìˆœìœ„)</p>
                            </div>
                            <div class="bg-white rounded-2xl shadow-lg p-8">
                                <div class="space-y-3 mb-6">
                                    ${priorities.map(p => {
                                        const rank = getPriorityRank(p.key);
                                        const selected = rank !== null;
                                        return `
                                            <button onclick="togglePriority('${p.key}')" class="w-full p-4 rounded-xl border-2 transition-all text-left ${selected ? 'border-pink-500 bg-pink-50' : 'border-gray-200 hover:border-gray-300'}">
                                                <div class="flex items-center justify-between">
                                                    <div class="flex items-center gap-3">
                                                        ${selected ? `<span class="w-8 h-8 bg-pink-500 text-white rounded-full flex items-center justify-center font-bold text-sm">${rank}</span>` : '<span class="w-8 h-8 bg-gray-200 rounded-full"></span>'}
                                                        <div>
                                                            <div class="font-semibold ${selected ? 'text-pink-600' : 'text-gray-900'}">${p.label}</div>
                                                            <div class="text-sm text-gray-500">${p.desc}</div>
                                                        </div>
                                                    </div>
                                                    ${selected ? '<svg class="w-6 h-6 text-pink-500" fill="currentColor" viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>' : ''}
                                                </div>
                                            </button>
                                        `;
                                    }).join('')}
                                </div>
                                <div class="bg-pink-50 border border-pink-200 rounded-lg p-4 mb-6">
                                    <p class="text-sm text-pink-800">ğŸ’¡ ì„ íƒí•œ ìˆœì„œëŒ€ë¡œ ê°€ì¤‘ì¹˜ê°€ ì ìš©ë©ë‹ˆë‹¤. 1ìˆœìœ„ëŠ” 2ë°°, 2ìˆœìœ„ëŠ” 1.5ë°°, 3ìˆœìœ„ëŠ” 1.2ë°°ì˜ ì¤‘ìš”ë„ë¡œ ê³„ì‚°ë©ë‹ˆë‹¤.</p>
                                </div>
                                <div class="flex gap-3">
                                    <button onclick="prevStep()" class="px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50">ì´ì „</button>
                                    <button onclick="nextStep()" class="flex-1 py-3 bg-pink-500 text-white rounded-lg font-semibold hover:bg-pink-600 shadow-md">ì¶”ì²œ ê²°ê³¼ ë³´ê¸°</button>
                                </div>
                            </div>
                        </div>
                    `;
                }
            } else if (state.currentStep === 'results') {
                const priorityLabels = {budget: 'ì˜ˆì‚°', location: 'ìœ„ì¹˜', atmosphere: 'ë¶„ìœ„ê¸°', food: 'ìŒì‹', rating: 'í‰ì ', type: 'íƒ€ì…'};
                
                app.innerHTML = `
                    <div class="max-w-6xl mx-auto px-4 py-12">
                        <div class="text-center mb-4">
                            <button onclick="backToForm()" class="text-gray-600 hover:text-gray-800">â† ë‹¤ì‹œ ê²€ìƒ‰</button>
                        </div>
                        <div class="text-center mb-8">
                            <div class="inline-flex items-center gap-2 px-4 py-2 bg-green-100 text-green-600 rounded-full text-sm mb-4">
                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"/></svg>
                                AI ë¶„ì„ ì™„ë£Œ!
                            </div>
                            <h2 class="text-3xl font-bold mb-2">ë‹¹ì‹ ì„ ìœ„í•œ ë§ì¶¤ ì›¨ë”©í™€</h2>
                            <p class="text-gray-600">ì…ë ¥í•˜ì‹  ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ${state.recommendations.length}ê°œì˜ ì›¨ë”©í™€ì„ ì°¾ì•˜ìŠµë‹ˆë‹¤</p>
                            ${state.formData.priorities.length > 0 ? `
                                <p class="text-sm text-pink-600 mt-2">
                                    ìš°ì„ ìˆœìœ„: ${state.formData.priorities.map((p, i) => `${i + 1}. ${priorityLabels[p]}`).join(' / ')}
                                </p>
                            ` : ''}
                        </div>
                        <div class="space-y-6">
                            ${state.recommendations.map((venue, index) => `
                                <div class="bg-white rounded-2xl shadow-lg p-6">
                                    <div class="flex items-start justify-between mb-4 flex-wrap gap-4">
                                        <div class="flex items-start gap-4">
                                            <div class="text-6xl">${venue.image}</div>
                                            <div>
                                                <div class="flex items-center gap-2 mb-1 flex-wrap">
                                                    ${index === 0 ? '<span class="px-2 py-1 bg-pink-500 text-white text-xs font-semibold rounded">BEST</span>' : ''}
                                                    <h3 class="text-2xl font-bold text-gray-900">${venue.name}</h3>
                                                </div>
                                                <div class="flex items-center gap-2 text-sm text-gray-600 flex-wrap">
                                                    <span>ğŸ“ ${venue.location}</span>
                                                    <span>â€¢</span>
                                                    <span>${venue.type}</span>
                                                    <span>â€¢</span>
                                                    <span>â­ ${venue.rating} (${venue.reviews}ê°œ í›„ê¸°)</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <div class="text-3xl font-bold text-pink-500 mb-1">${venue.match}%</div>
                                            <div class="text-xs text-gray-500">ë§¤ì¹­ë¥ </div>
                                        </div>
                                    </div>
                                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6 p-4 bg-gray-50 rounded-lg">
                                        <div>
                                            <div class="text-xs text-gray-500 mb-1">ì§€í•˜ì²  ì ‘ê·¼ì„±</div>
                                            <div class="font-semibold">ë„ë³´ ${venue.subway}</div>
                                        </div>
                                        <div>
                                            <div class="text-xs text-gray-500 mb-1">ì£¼ì°¨</div>
                                            <div class="font-semibold">${venue.parking}</div>
                                        </div>
                                        <div>
                                            <div class="text-xs text-gray-500 mb-1">ìˆ˜ìš© ì¸ì›</div>
                                            <div class="font-semibold">${venue.capacity}</div>
                                        </div>
                                        <div>
                                            <div class="text-xs text-gray-500 mb-1">í™€ ë¶„ìœ„ê¸°</div>
                                            <div class="font-semibold">${venue.atmosphere}</div>
                                        </div>
                                    </div>
                                    <div class="mb-6 p-4 bg-pink-50 rounded-lg border-2 border-pink-100">
                                        <div class="text-sm text-gray-600 mb-2">ì˜ˆìƒ ê²¬ì </div>
                                        <div class="grid grid-cols-3 gap-4">
                                            <div>
                                                <div class="text-xs text-gray-500">ì‹ëŒ€ (1ì¸)</div>
                                                <div class="text-lg font-bold text-gray-900">${venue.mealPrice}</div>
                                            </div>
                                            <div>
                                                <div class="text-xs text-gray-500">ëŒ€ê´€ë£Œ</div>
                                                <div class="text-lg font-bold text-gray-900">${venue.rentalFee}</div>
                                            </div>
                                            <div>
                                                <div class="text-xs text-gray-500">ì´ ì˜ˆìƒ ê¸ˆì•¡</div>
                                                <div class="text-lg font-bold text-pink-500">
                                                    ${(parseInt(venue.mealPrice.replace('ë§Œì›', '')) * parseInt(state.formData.guests) + parseInt(venue.rentalFee.replace('ë§Œì›', ''))).toLocaleString()}ë§Œì›
                                                </div>
                                            </div>
                                        </div>
                                        <div class="mt-2 text-xs text-gray-500">* ${state.formData.guests}ëª… ê¸°ì¤€ ì˜ˆìƒ ê²¬ì ì…ë‹ˆë‹¤</div>
                                    </div>
                                    <div class="flex gap-3 flex-wrap">
                                        <a href="tel:${venue.phone}" class="flex-1 min-w-[120px] px-4 py-3 bg-white border-2 border-gray-200 rounded-lg hover:border-pink-500 hover:text-pink-500 transition-colors flex items-center justify-center gap-2 font-medium">
                                            ğŸ“ ì „í™” ë¬¸ì˜
                                        </a>
                                        <a href="${venue.website}" target="_blank" class="flex-1 min-w-[120px] px-4 py-3 bg-white border-2 border-gray-200 rounded-lg hover:border-pink-500 hover:text-pink-500 transition-colors flex items-center justify-center gap-2 font-medium">
                                            ğŸŒ í™ˆí˜ì´ì§€
                                        </a>
                                        <a href="https://instagram.com/${venue.instagram.replace('@', '')}" target="_blank" class="flex-1 min-w-[120px] px-4 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg hover:from-purple-600 hover:to-pink-600 transition-colors flex items-center justify-center gap-2 font-medium">
                                            ğŸ“¸ ì¸ìŠ¤íƒ€ê·¸ë¨
                                        </a>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                        <div class="mt-12 p-8 bg-gradient-to-r from-pink-500 to-purple-500 rounded-2xl text-white text-center">
                            <h3 class="text-2xl font-bold mb-3">ìŠ¤ë“œë©”ë„ í•¨ê»˜ ì°¾ì•„ë³´ì„¸ìš”!</h3>
                            <p class="mb-6 opacity-90">ì›¨ë”©í™€ì„ ì •í•˜ì…¨ë‹¤ë©´, ì´ì œ ìŠ¤íŠœë””ì˜¤Â·ë“œë ˆìŠ¤Â·ë©”ì´í¬ì—…ë„ AI ì¶”ì²œìœ¼ë¡œ ì™„ë²½í•˜ê²Œ ì¤€ë¹„í•˜ì„¸ìš”</p>
                            <button class="px-8 py-3 bg-white text-pink-500 rounded-lg font-semibold hover:shadow-lg transition-shadow">
                                ìŠ¤ë“œë©” ì¶”ì²œ ë°›ê¸° â†’
                            </button>
                        </div>
                    </div>
                `;
            }
        }

        render();
    </script>
</body>
</html>
